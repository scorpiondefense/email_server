# Email Server Environment Configuration
# ========================================
#
# Copy this file to .env and update the values for your deployment.
#
# Usage:
#   cp .env.example .env
#   nano .env  # Edit values
#   docker-compose up -d
#

# =============================================================================
# REQUIRED: Server Identity
# =============================================================================

# Your VPS public IPv4 address
# Replace XXX.XXX.XXX.XXX with your actual VPS IP
SERVER_IP=XXX.XXX.XXX.XXX

# Your email domain (e.g., example.com)
MAIL_DOMAIN=example.com

# Mail server hostname (typically mail.yourdomain.com)
MAIL_HOSTNAME=mail.example.com

# =============================================================================
# REQUIRED: Initial Admin User
# =============================================================================

# Admin email address (created on first run)
ADMIN_EMAIL=admin@example.com

# Admin password (use a strong password!)
ADMIN_PASSWORD=changeme123!

# =============================================================================
# OPTIONAL: Server Limits
# =============================================================================

# Maximum concurrent connections per service
MAX_CONNECTIONS=1000

# Maximum email message size in bytes (default: 25 MB)
MAX_MESSAGE_SIZE=26214400

# Maximum recipients per message
MAX_RECIPIENTS=100

# Default mailbox quota in bytes (default: 100 MB)
DEFAULT_QUOTA=104857600

# =============================================================================
# OPTIONAL: SMTP Settings
# =============================================================================

# Require authentication for sending mail (recommended: true)
SMTP_REQUIRE_AUTH=true

# Allow relay for authenticated users (set true if users send to external addresses)
SMTP_ALLOW_RELAY=true

# =============================================================================
# OPTIONAL: Logging
# =============================================================================

# Log level: trace, debug, info, warning, error, fatal
LOG_LEVEL=info

# =============================================================================
# WEBMAIL CLIENT SETTINGS
# =============================================================================

# JWT secret for session encryption (generate a random string!)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Session expiry in seconds (default: 24 hours)
SESSION_EXPIRY=86400

# IMAP connection settings (for webmail to connect to email server)
IMAP_HOST=email
IMAP_PORT=993
IMAP_SECURE=true

# SMTP connection settings (for webmail to send emails)
SMTP_HOST=email
SMTP_PORT=465
SMTP_SECURE=true
